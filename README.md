# Vampire Dungeon

TypeScriptとThree.jsで開発した見下ろし型のローグライクダンジョンゲームです。バンパイアサバイバー風のアイテム強化システムを備えています。

## 概要

Vampire Dungeonは、プレイヤーがダンジョンを探索し、敵を倒しながらアイテムを集め、強くなっていくゲームです。クリプトオブネクロダンサーのように階層を進めながら、バンパイアサバイバーのようにキャラクターを強化していきます。

## 主な機能

- Three.jsによる3Dグラフィックス
- TypeScriptによる型安全な実装
- 見下ろし視点のカメラアングル
- 右クリックによるプレイヤー操作
- 階層ごとに異なる環境（壁の色、サイズ、障害物の数）
- 敵の自動生成と追跡AI
- 敵の視線判定と障害物による視界遮断システム
- 壁や障害物との衝突判定
- 様々なタイプのアイテム
- 自動生成されるダンジョン
- Reactベースのゲーム内UI

## 開発環境

- Node.js
- TypeScript
- Three.js
- React
- Vite

## インストール方法

```bash
# リポジトリをクローン
git clone [リポジトリURL]

# プロジェクトディレクトリに移動
cd VampireDungeon

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

## 操作方法

- **移動**: 右クリック、またはWASD/矢印キー
- **攻撃**: QWERキーによるスキル
- **アイテム収集**: アイテムに近づくと自動で取得
- **視認範囲表示**: Vキーで敵の視認範囲を表示/非表示

## ゲームシステム

### プレイヤー

プレイヤーは以下のステータスを持っています:
- 体力（HP）
- 攻撃力
- 移動速度
- 攻撃速度
- 攻撃範囲
- 経験値

### 敵

敵はプレイヤーを追跡し、近づくと攻撃します。敵を倒すと経験値を獲得できます。
敵は壁や障害物を通り抜けることができず、視線が遮られるとプレイヤーを見失います。

各階層ごとに出現する敵が変化します

### アイテム

ゲーム内には以下のタイプのアイテムがあります:
- 回復アイテム（体力回復）
- スキル取得アイテム（QWERキーのいずれかにスキル割り振り）
- 速度アップアイテム（移動速度アップ）
- パワーアップアイテム（攻撃力アップ）

### 階層システム

ダンジョンは階層ごとに自動生成され、階層によって環境が変化します：
- 第1階層: 小さめのマップ、少ない障害物
- 第2階層: 中程度のマップサイズ、中程度の障害物
- 第3階層: 大きなマップ、多くの障害物

各階層には次の階層への出口があります。

### 物理演算と衝突判定

- プレイヤーと敵は壁や障害物と衝突するとそれ以上進めません
- 敵はプレイヤーを視認するとき、視線上に壁があるとプレイヤーを検知できません
- Vキーを押すと敵の視認範囲を可視化できます（赤色は視認中、黄色は非視認中）

## 今後の拡張予定

- 複数のスキル
- ボス戦の追加
- より詳細なパワーアップシステム
- グラフィック強化
- サウンドとBGMの追加
